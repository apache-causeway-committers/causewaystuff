// Auto-generated by Causeway-Stuff code generator.
package survey.dom;

import io.github.causewaystuff.companion.applib.services.lookup.ForeignKeyLookupService;
import jakarta.inject.Inject;
import javax.annotation.processing.Generated;
import lombok.RequiredArgsConstructor;
import org.apache.causeway.applib.annotation.MemberSupport;
import org.apache.causeway.applib.annotation.Property;
import org.apache.causeway.applib.annotation.PropertyLayout;
import org.apache.causeway.applib.annotation.Snapshot;
import org.apache.causeway.applib.annotation.Where;

@Generated("io.github.causewaystuff.companion.codegen.domgen._GenAssociationMixin")
@Property(
        snapshot = Snapshot.EXCLUDED
)
@PropertyLayout(
        fieldSetId = "details",
        sequence = "1.1",
        describedAs = "Survey code",
        hidden = Where.REFERENCES_PARENT
)
@RequiredArgsConstructor
public class Campaign_survey {
    @Inject
    ForeignKeyLookupService foreignKeyLookup;

    private final Campaign mixee;

    @MemberSupport
    public Survey prop() {
        final var lookupKey = new Survey.SecondaryKey(mixee.getSurveyCode());
        return foreignKeyLookup.unique(lookupKey);
    }
}
